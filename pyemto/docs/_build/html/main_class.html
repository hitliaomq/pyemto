

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Main class &mdash; pyEMTO 0.9.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pyEMTO 0.9.0 documentation" href="index.html"/>
        <link rel="up" title="pyEMTO Code Reference" href="code.html"/>
        <link rel="next" title="latticeinputs package" href="latticeinputs.html"/>
        <link rel="prev" title="pyEMTO Code Reference" href="code.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pyEMTO
          

          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example scripts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="code.html">pyEMTO Code Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Main class</a></li>
<li class="toctree-l2"><a class="reference internal" href="latticeinputs.html">latticeinputs package</a></li>
<li class="toctree-l2"><a class="reference internal" href="emtoinputs.html">emtoinputs package</a></li>
<li class="toctree-l2"><a class="reference internal" href="EOS.html">EOS package</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">utilities package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="presentation.html">pyEMTO presentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyEMTO</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="code.html">pyEMTO Code Reference</a> &raquo;</li>
        
      <li>Main class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/main_class.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="main-class">
<h1>Main class<a class="headerlink" href="#main-class" title="Permalink to this headline">¶</a></h1>
<p>Below is a description of the code found in the main part of the package, system.py.</p>
<span class="target" id="module-system"></span><p>Created on Wed Dec  3 14:25:06 2014</p>
<p>&#64;author: Matti Ropo
&#64;author: Henrik Levämäki</p>
<dl class="class">
<dt id="system.System">
<em class="property">class </em><code class="descclassname">system.</code><code class="descname">System</code><span class="sig-paren">(</span><em>folder=None</em>, <em>EMTOdir=None</em>, <em>xc=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The main class which provides the basis for the pyEMTO scripts.</p>
<p>Somewhere in the beginning of a pyEMTO script a new instance of
the system class should be created. All subsequent communication
with the newly created system should be through the class methods,
which are described below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>folder</strong> (<em>str</em>) – Main folder where the input and output files will
be stored. Use of absolute paths is recommended
(Default value = current working directory)</li>
<li><strong>EMTOdir</strong> (<em>str</em>) – Path to the folder of the EMTO installation.
This entry can and should be modified by the user
inside the System.__init__ function
(Default value = /home/user/EMTO5.8)</li>
<li><strong>xc</strong> (<em>str</em>) – Choice for the xc-functional can be set here.
(Default value = PBE)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="system.System.bulk">
<code class="descname">bulk</code><span class="sig-paren">(</span><em>jobname=None</em>, <em>lat=None</em>, <em>atoms=None</em>, <em>concs=None</em>, <em>splts=None</em>, <em>sws=None</em>, <em>latname=None</em>, <em>latpath=None</em>, <em>emtopath=None</em>, <em>ibz=None</em>, <em>bmod=None</em>, <em>xc=None</em>, <em>ca=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.bulk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.bulk" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the basic parameters for bulk systems.</p>
<p>Basic information concerning the system,
such as the types of atoms and the crystal structure should be given to this function and
it should be called right after the class instance has been created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> – Name of the system (Default value = None)</li>
<li><strong>lat</strong> – The type of lattice structure (Default value = None)</li>
<li><strong>atoms</strong> – List of atoms in the system (Default value = None)</li>
<li><strong>concs</strong> – List of concentrations of the elements in the
‘atoms’ list. This information is only used in CPA
calculations (Default value = None)</li>
<li><strong>splts</strong> – List of initial magnetic moments of the elements in the
‘atoms’ list (Default value = None)</li>
<li><strong>sws</strong> (<em>float</em>) – The Wigner-Seitz radius of the system (Default value = None)</li>
<li><strong>latname</strong> – The ‘jobname’ of the BMDL, KSTR and SHAPE output files. These
structure output files have to be located in the ‘latpath’
directory and they have to be named jobname.extention
(Default value = None)</li>
<li><strong>latpath</strong> – The absolute path to the folder where the ‘bmdl’, ‘kstr’ and ‘shape’
folders are located, which in turn contain the output files of the
structure calculation (Default value = None)</li>
<li><strong>emtopath</strong> – The absolute path to the folder where the EMTO installation is
located (Default value = None)</li>
<li><strong>ibz</strong> – The code number indicating the Bravais lattice that the crystal
structure of the system has. For a list of possible values, please consult the
EMTO manual (Default value = None)</li>
<li><strong>bmod</strong> – The bulk modulus can be inputed here and if it is given,
it will be used by the elastic modulus routines (Default value = None)</li>
<li><strong>xc</strong> – The choice of the xc-functional. If None, PBE will be used as default
(Default value = None)</li>
<li><strong>ca</strong> – The c/a ratio of hcp structures can be inputed here and if it is given,
it will be used by the elastic modulus routines (Default value = None)</li>
<li><strong>**kwargs</strong> – <p>Arbitrary other KGRN and KFCD input parameters can be given here
as keyword arguments. They will be passed down to the
self.emto.set_values() function</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.bulk_new">
<code class="descname">bulk_new</code><span class="sig-paren">(</span><em>jobname=None</em>, <em>lat=None</em>, <em>atoms=None</em>, <em>concs=None</em>, <em>splts=None</em>, <em>sws=None</em>, <em>latname=None</em>, <em>latpath=None</em>, <em>emtopath=None</em>, <em>ibz=None</em>, <em>bmod=None</em>, <em>xc=None</em>, <em>ca=None</em>, <em>iqs=None</em>, <em>its=None</em>, <em>itas=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.bulk_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.bulk_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the basic parameters for bulk systems.</p>
<blockquote>
<div>!!!A NEW VERSION OF THE OLD “bulk” ROUTINE!!!</div></blockquote>
<p>Basic information concerning the system,
such as the types of atoms and the crystal structure should be given to this function and
it should be called right after the class instance has been created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> – Name of the system (Default value = None)</li>
<li><strong>lat</strong> – The type of lattice structure (Default value = None)</li>
<li><strong>atoms</strong> – List of atoms in the system (Default value = None)</li>
<li><strong>concs</strong> – List of concentrations of the elements in the
‘atoms’ list. This information is only used in CPA
calculations (Default value = None)</li>
<li><strong>splts</strong> – List of initial magnetic moments of the elements in the
‘atoms’ list (Default value = None)</li>
<li><strong>sws</strong> (<em>float</em>) – The Wigner-Seitz radius of the system (Default value = None)</li>
<li><strong>latname</strong> – The ‘jobname’ of the BMDL, KSTR and SHAPE output files. These
structure output files have to be located in the ‘latpath’
directory and they have to be named jobname.extention
(Default value = None)</li>
<li><strong>latpath</strong> – The absolute path to the folder where the ‘bmdl’, ‘kstr’ and ‘shape’
folders are located, which in turn contain the output files of the
structure calculation (Default value = None)</li>
<li><strong>emtopath</strong> – The absolute path to the folder where the EMTO installation is
located (Default value = None)</li>
<li><strong>ibz</strong> – The code number indicating the Bravais lattice that the crystal
structure of the system has. For a list of possible values, please consult the
EMTO manual (Default value = None)</li>
<li><strong>bmod</strong> – The bulk modulus can be inputed here and if it is given,
it will be used by the elastic modulus routines (Default value = None)</li>
<li><strong>xc</strong> – The choice of the xc-functional. If None, PBE will be used as default
(Default value = None)</li>
<li><strong>ca</strong> – The c/a ratio of hcp structures can be inputed here and if it is given,
it will be used by the elastic modulus routines (Default value = None)</li>
<li><strong>**kwargs</strong> – <p>Arbitrary other KGRN and KFCD input parameters can be given here
as keyword arguments. They will be passed down to the
self.emto.set_values() function</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.check_conv">
<code class="descname">check_conv</code><span class="sig-paren">(</span><em>jobname</em>, <em>folder='./'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.check_conv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.check_conv" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the convergence of given KGRN and KFCD calculations by reading
their output files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Name of the output files</li>
<li><strong>folder</strong> (<em>str</em>) – Name of the folder where the output files are located (Default value = “./”)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Convergence of KGRN (True/False), convergence of KFCD  (True/False)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean, boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.check_str">
<code class="descname">check_str</code><span class="sig-paren">(</span><em>jobname</em>, <em>folder='./'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.check_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.check_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a KSTR calculation file exists and has converged.</p>
<p>Only KSTR file is checked because BMDL and SHAPE are fast to
rerun in any case.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Filename of the structure output file</li>
<li><strong>folder</strong> (<em>str</em>) – Folder where the output file is located (Default value = “./”)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if KSTR has finished and False if not</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.create_jobname">
<code class="descname">create_jobname</code><span class="sig-paren">(</span><em>jobname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.create_jobname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.create_jobname" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates jobnames based on system information.</p>
<p>Creates a jobname based on the optional input prefix <em>jobname</em>.
The format of the full jobname in this case will be:
jobname_3.000000, where 3.000000 is the sws.</p>
<p>If <em>jobname</em> prefix is not given, full jobname is generated automatically
based on system data self.sws, self.atoms and self.concs.
The format of the jobname is: au0.50pd0.50_3.000000, where 0.50 are the
atomic concentrations and 3.000000 is the sws.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jobname</strong> (<em>str</em>) – Optional prefix for the full jobname (Default value = None)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Newly created full jobname</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.elastic_constants_analyze">
<code class="descname">elastic_constants_analyze</code><span class="sig-paren">(</span><em>sws=None</em>, <em>bmod=None</em>, <em>ca=None</em>, <em>R=None</em>, <em>cs=None</em>, <em>relax=True</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.elastic_constants_analyze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.elastic_constants_analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyzes the output files generated using the
elastic_constants_batch_generate function.</p>
<p>The results are printed on screen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>float</em>) – WS-radius (Default value = None)</li>
<li><strong>bmod</strong> (<em>float</em>) – Bulk modulus (Default value = None)</li>
<li><strong>ca</strong> (<em>float</em>) – hpc c/a ratio  (Default value = None)</li>
<li><strong>R</strong> (<em>float</em>) – Dimensionless quantity of hcp systems (Default value = None)</li>
<li><strong>cs</strong> (<em>float</em>) – Second order c/a-derivative of the energy (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.elastic_constants_batch_calculate">
<code class="descname">elastic_constants_batch_calculate</code><span class="sig-paren">(</span><em>sws=None</em>, <em>bmod=None</em>, <em>ca=None</em>, <em>R=None</em>, <em>cs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.elastic_constants_batch_calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.elastic_constants_batch_calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the elastic constants of a system using the parallelism
of the batch system.</p>
<p>This is a combination of the batch_generate and batch_analyze functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>float</em>) – WS-radius (Default value = None)</li>
<li><strong>bmod</strong> (<em>float</em>) – Bulk modulus (Default value = None)</li>
<li><strong>ca</strong> (<em>float</em>) – hpc c/a ratio  (Default value = None)</li>
<li><strong>R</strong> (<em>float</em>) – The dimensionless quantity of hcp systems (Default value = None)</li>
<li><strong>cs</strong> (<em>float</em>) – Second order c/a-derivative of the energy (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.elastic_constants_batch_generate">
<code class="descname">elastic_constants_batch_generate</code><span class="sig-paren">(</span><em>sws=None</em>, <em>ca=None</em>, <em>relax=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.elastic_constants_batch_generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.elastic_constants_batch_generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates all the necessary input files based on the class data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>float</em>) – WS-radius (Default value = None)</li>
<li><strong>ca</strong> (<em>float</em>) – hpc c/a ratio  (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of jobnames</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(str)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.elastic_constants_serial_calculate">
<code class="descname">elastic_constants_serial_calculate</code><span class="sig-paren">(</span><em>sws=None</em>, <em>bmod=None</em>, <em>ca=None</em>, <em>R=None</em>, <em>cs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.elastic_constants_serial_calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.elastic_constants_serial_calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates elastic constants on one CPU without using the batch system.</p>
<p>At the end the results are printed on screen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>float</em>) – WS-radius (Default value = None)</li>
<li><strong>bmod</strong> (<em>float</em>) – Bulk modulus (Default value = None)</li>
<li><strong>ca</strong> (<em>float</em>) – hpc c/a ratio  (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.find_lc">
<code class="descname">find_lc</code><span class="sig-paren">(</span><em>delta=0.01</em>, <em>prn=True</em>, <em>xc='PBE'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.find_lc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.find_lc" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes initial estimates for the ground state quantities for cubic systems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>delta</strong> (<em>float</em>) – Step size for the volume vs. energy array (Default value = 0.01)</li>
<li><strong>prn</strong> (<em>boolean</em>) – True if results should be printed, False if not (Default value = True)</li>
<li><strong>xc</strong> (<em>str</em>) – Choice of the xc-functional (Default value = ‘PBE’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">WS-radius, bulk modulus, c/a and energy</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, float, float, float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.find_lc_hcp">
<code class="descname">find_lc_hcp</code><span class="sig-paren">(</span><em>delta=0.01</em>, <em>prn=True</em>, <em>xc='PBE'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.find_lc_hcp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.find_lc_hcp" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes initial estimates for the ground state quantities for hcp systems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>delta</strong> (<em>float</em>) – Step size for the volume vs. energy array (Default value = 0.01)</li>
<li><strong>prn</strong> (<em>boolean</em>) – True if results should be printed, False if not (Default value = True)</li>
<li><strong>xc</strong> (<em>str</em>) – Choice of the xc-functional (Default value = ‘PBE’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">WS-radius, bulk modulus, c/a and energy</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, float, float, float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.get_energy">
<code class="descname">get_energy</code><span class="sig-paren">(</span><em>jobname=None</em>, <em>func='PBE'</em>, <em>folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.get_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.get_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts total energy from the KFCD output file.</p>
<p>Different total energies given by different xc-functionals can
be selected using the <em>func</em> input parameter. Default value is
‘PBE’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Name of the KFCD output file</li>
<li><strong>func</strong> (<em>str</em>) – Name of the xc-functional (Default value = “PBE”)</li>
<li><strong>folder</strong> (<em>str</em>) – Name of the folder where the output file is located (Default value = “./”)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Total energy if it is found, otherwise return None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.get_fdos">
<code class="descname">get_fdos</code><span class="sig-paren">(</span><em>jobname=None</em>, <em>folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.get_fdos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.get_fdos" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract density of state (DOS) at fermi level from KGRN output</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Name of the KGRN output file</li>
<li><strong>folder</strong> (<em>str</em>) – Name of the folder where the output file is located (Default value = “./”)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">DOS at fermi level</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.get_jobs_status">
<code class="descname">get_jobs_status</code><span class="sig-paren">(</span><em>jobids=None</em>, <em>toplevel=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.get_jobs_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.get_jobs_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns status of the jobs indicated
(jobsdict or list of job ids) or all jobs if no jobids supplied.
Set toplevel=False for job step data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobids</strong> (<em>dict</em><em> or </em><em>list</em>) – List of job IDs (Default value = None)</li>
<li><strong>toplevel</strong> (<em>boolean</em>) – (Default value = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Job statuses</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(str)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.get_moments">
<code class="descname">get_moments</code><span class="sig-paren">(</span><em>jobname=None</em>, <em>func='PBE'</em>, <em>folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.get_moments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.get_moments" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts magnetic moments from the KFCD output file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Name of the KFCD output file</li>
<li><strong>func</strong> (<em>str</em>) – Name of the xc-functional (Default value = “PBE”)</li>
<li><strong>folder</strong> (<em>str</em>) – Name of the folder where the output file is located (Default value = “./”)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Total energy if it is found, otherwise return None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.get_status_counts">
<code class="descname">get_status_counts</code><span class="sig-paren">(</span><em>jobids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.get_status_counts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.get_status_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the counts of all jobs by status category.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jobids</strong> – (Default value = None)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.lattice_constants_analyze">
<code class="descname">lattice_constants_analyze</code><span class="sig-paren">(</span><em>sws=None</em>, <em>ca=None</em>, <em>prn=True</em>, <em>debug=False</em>, <em>method='morse'</em>, <em>return_error=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.lattice_constants_analyze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.lattice_constants_analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyzes the output files generated using the
lattice_constants_batch_generate function.</p>
<p>The results are printed on screen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of WS-radii (Default value = None)</li>
<li><strong>ca</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List hpc c/a ratios  (Default value = None)</li>
<li><strong>prn</strong> (<em>boolean</em>) – True if results should be printed on screen, False if not (Default value = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Equilibrium WS-radius, c/a (only hcp), bulk modulus, energy,
R (only hcp) and cs (only hcp)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, float (only hcp), float, float, float (only hcp), float (only hcp)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.lattice_constants_batch_calculate">
<code class="descname">lattice_constants_batch_calculate</code><span class="sig-paren">(</span><em>sws=None</em>, <em>ca=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.lattice_constants_batch_calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.lattice_constants_batch_calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the ground state WS-radius using the parallelism of
the batch system by submitting one job for each entry in the <em>sws</em> list.</p>
<p>This is a combination of the batch_generate and batch_analyze functions.
At the end results are printed on screen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of WS-radii (Default value = None)</li>
<li><strong>ca</strong> (<em>float</em>) – hpc c/a ratio  (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">WS-radius, c/a (only hcp), bulk modulus, energy,
R (only hcp), cs (only hcp)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, float (only hcp), float, float,
float (only hcp), float (only hcp)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.lattice_constants_batch_generate">
<code class="descname">lattice_constants_batch_generate</code><span class="sig-paren">(</span><em>sws=None</em>, <em>ca=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.lattice_constants_batch_generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.lattice_constants_batch_generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates input files and writes them to disk.</p>
<p>Based on the input <em>sws</em> and <em>ca</em> lists jobnames are created and
then corresponding input files are generated and written
on disk. List of jobnames are returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of WS-radii (Default value = None)</li>
<li><strong>ca</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of hcp c/a ratios (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of jobnames</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(str)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.lattice_constants_serial_calculate">
<code class="descname">lattice_constants_serial_calculate</code><span class="sig-paren">(</span><em>sws=None</em>, <em>stype='simple'</em>, <em>rerun=False</em>, <em>skip=False</em>, <em>delta=0.01</em>, <em>refine=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.lattice_constants_serial_calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.lattice_constants_serial_calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the equilibrium lattice constants on one CPU <strong>WITHOUT</strong> the batch system.</p>
<p>Also the eq. bulk modulus, c/a ratio and energy are returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>float</em>) – Initial guess for the eq. WS-radius (Default value = None)</li>
<li><strong>stype</strong> (<em>str</em>) – Type of the energy minimisation algorithm (Default value = “simple”)</li>
<li><strong>rerun</strong> (<em>boolean</em>) – True if  (Default value = False)</li>
<li><strong>skip</strong> (<em>boolean</em>) – True if (Default value = False)</li>
<li><strong>delta</strong> (<em>float</em>) – Step size (Default value = 0.01)</li>
<li><strong>refine</strong> (<em>boolean</em>) – True if an optimized WS-radius vs. energy curve
should be computed, False if not (Default value = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">WS-radius, c/a, bulk modulus, energy</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, float, float, float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.predict_next_sws">
<code class="descname">predict_next_sws</code><span class="sig-paren">(</span><em>swses</em>, <em>en</em>, <em>maxdelta=0.05</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.predict_next_sws"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.predict_next_sws" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict next WS-radius based on a simple gradient descent algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>swses</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of current WS-radii</li>
<li><strong>en</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of current energies</li>
<li><strong>maxdelta</strong> (<em>float</em>) – Maximum step size (Default value = 0.05)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Next WS-radii and True if energy minimum has been found,
False if not yet found</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.print_sws_ens">
<code class="descname">print_sws_ens</code><span class="sig-paren">(</span><em>string</em>, <em>swses</em>, <em>energies</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.print_sws_ens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.print_sws_ens" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the WS-radii and calculated energies of cubic systems</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> (<em>str</em>) – Header for the printout</li>
<li><strong>swses</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of WS-radii</li>
<li><strong>energies</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of energies</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.print_sws_ens_hcp">
<code class="descname">print_sws_ens_hcp</code><span class="sig-paren">(</span><em>string</em>, <em>swses</em>, <em>energies</em>, <em>cas</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.print_sws_ens_hcp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.print_sws_ens_hcp" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the WS-radii, ca/a ratios and calculated energies of hcp systems</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> (<em>str</em>) – Header for the printout</li>
<li><strong>swses</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of WS-radii</li>
<li><strong>energies</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of energies</li>
<li><strong>cas</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of c/a ratios</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.refine_lc">
<code class="descname">refine_lc</code><span class="sig-paren">(</span><em>sws</em>, <em>delta=0.01</em>, <em>prn=True</em>, <em>xc='PBE'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.refine_lc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.refine_lc" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a more accurate equilibrium volume for cubic systems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>float</em>) – WS-radius</li>
<li><strong>delta</strong> (<em>float</em>) – Step size for the volume vs. energy array (Default value = 0.01)</li>
<li><strong>prn</strong> (<em>boolean</em>) – True if results should be printed, False if not (Default value = True)</li>
<li><strong>xc</strong> (<em>str</em>) – Choice of the xc-functional (Default value = ‘PBE’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Ws-radius, bulk modulus, c/a and energy</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, float, float, float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.refine_lc_hcp">
<code class="descname">refine_lc_hcp</code><span class="sig-paren">(</span><em>sws</em>, <em>ca0</em>, <em>delta=0.01</em>, <em>prn=True</em>, <em>xc='PBE'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.refine_lc_hcp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.refine_lc_hcp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a more accurate equilibrium volume for hcp systems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sws</strong> (<em>float</em>) – WS-radius</li>
<li><strong>ca0</strong> (<em>float</em>) – Previously computed eq. c/a ratio</li>
<li><strong>delta</strong> (<em>float</em>) – Step size for the volume vs. energy array (Default value = 0.01)</li>
<li><strong>prn</strong> (<em>boolean</em>) – True if results should be printed, False if not (Default value = True)</li>
<li><strong>xc</strong> (<em>str</em>) – Choice of the xc-functional (Default value = ‘PBE’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Ws-radius, bulk modulus, c/a and energy</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float, float, float, float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.runemto">
<code class="descname">runemto</code><span class="sig-paren">(</span><em>jobname</em>, <em>folder='./'</em>, <em>EMTODIR=None</em>, <em>onlyKFCD=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.runemto"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.runemto" title="Permalink to this definition">¶</a></dt>
<dd><p>Run KGRN and KFCD <strong>WITHOUT</strong> using the batch system and check convergence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Name of the input files</li>
<li><strong>folder</strong> (<em>str</em>) – Name of the folder where the input files are located (Default value = “./”)</li>
<li><strong>EMTODIR</strong> (<em>str</em>) – Path to the EMTO installation folder (Default value = None)</li>
<li><strong>onlyKFCD</strong> (<em>boolean</em>) – True if only KFCD needs to calculated,
False if also KGRN (Default value = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the calculations converged, False if not</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.runlattice">
<code class="descname">runlattice</code><span class="sig-paren">(</span><em>jobname=None</em>, <em>folder='./'</em>, <em>EMTODIR=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.runlattice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.runlattice" title="Permalink to this definition">¶</a></dt>
<dd><p>Run BMDL, KSTR and SHAPE calculation <strong>WITHOUT</strong> using the batch system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Name of the input files (Default value = None)</li>
<li><strong>folder</strong> (<em>str</em>) – Name of the folder where the input files are located (Default value = “./”)</li>
<li><strong>EMTODIR</strong> (<em>str</em>) – Path to the EMTO installation folder (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.submit_jobs">
<code class="descname">submit_jobs</code><span class="sig-paren">(</span><em>jobnames</em>, <em>folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.submit_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.submit_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of jobnames and submits the corresponding
batch scripts to the batch system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobnames</strong> (<em>list</em><em>(</em><em>float</em><em>)</em>) – List of jobnames</li>
<li><strong>folder</strong> (<em>str</em>) – Folder where the batch scripts are located (Default value = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of job ID numbers</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(str)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.wait_for_jobs">
<code class="descname">wait_for_jobs</code><span class="sig-paren">(</span><em>jobsdict</em>, <em>restart_partition='general'</em>, <em>sleeptime=60</em>, <em>restart_z=None</em>, <em>restart_stragglers_after=0.75</em>, <em>kill_if_all_ssusp=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.wait_for_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.wait_for_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Loops checking status until no jobs are waiting or running / all are finished.</p>
<p>wait/run states:</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="9%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Key</strong></td>
<td><strong>Meaning</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>CF</td>
<td>CONFIGURING</td>
<td>Job has been allocated resources, but are waiting for them to become ready for use (e.g. booting).</td>
</tr>
<tr class="row-odd"><td>CG</td>
<td>COMPLETING</td>
<td>Job is in the process of completing. Some processes on some nodes may still be active.</td>
</tr>
<tr class="row-even"><td>PD</td>
<td>PENDING</td>
<td>Job is awaiting resource allocation.</td>
</tr>
<tr class="row-odd"><td>R</td>
<td>RUNNING</td>
<td>Job currently has an allocation.</td>
</tr>
<tr class="row-even"><td>RS</td>
<td>RESIZING</td>
<td>Job is about to change size.</td>
</tr>
<tr class="row-odd"><td>S</td>
<td>SUSPENDED</td>
<td>Job has an allocation, but execution has been suspended.</td>
</tr>
</tbody>
</table>
<p>done states:</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="9%" />
<col width="86%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Key</strong></td>
<td><strong>Meaning</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>CA</td>
<td>CANCELLED</td>
<td>Job was explicitly cancelled by the user or system administrator.  The job may or may not have been initiated.</td>
</tr>
<tr class="row-odd"><td>CD</td>
<td>COMPLETED</td>
<td>Job has terminated all processes on all nodes.</td>
</tr>
<tr class="row-even"><td>F</td>
<td>FAILED</td>
<td>Job terminated with non-zero exit code or other failure condition.</td>
</tr>
<tr class="row-odd"><td>NF</td>
<td>NODE_FAIL</td>
<td>Job terminated due to failure of one or more allocated nodes.</td>
</tr>
<tr class="row-even"><td>PR</td>
<td>PREEMPTED</td>
<td>Job terminated due to preemption.</td>
</tr>
<tr class="row-odd"><td>TO</td>
<td>TIMEOUT</td>
<td>Job terminated upon reaching its time limit.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobsdict</strong> – </li>
<li><strong>restart_partition</strong> – (Default value = ‘general’)</li>
<li><strong>sleeptime</strong> – (Default value = 60)</li>
<li><strong>restart_z</strong> – (Default value = None)</li>
<li><strong>restart_stragglers_after</strong> – (Default value = 0.75)</li>
<li><strong>kill_if_all_ssusp</strong> – (Default value = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.which_error">
<code class="descname">which_error</code><span class="sig-paren">(</span><em>jobname</em>, <em>folder='./'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.which_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.which_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to determine the reason why a given KGRN calculation did not converge.</p>
<p>The reason for the crash will be printed on screen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>jobname</strong> (<em>str</em>) – Name of the KGRN output file</li>
<li><strong>folder</strong> (<em>str</em>) – Name of the folder where the output file is located (Default value = “./”)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="system.System.write_inputs">
<code class="descname">write_inputs</code><span class="sig-paren">(</span><em>folder=None</em>, <em>batch=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/system.html#System.write_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#system.System.write_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Write kgrn and kfcd inputs files and possible batch file</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="latticeinputs.html" class="btn btn-neutral float-right" title="latticeinputs package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="code.html" class="btn btn-neutral" title="pyEMTO Code Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Henrik Levämäki, Matti Ropo.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.9.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>